from fastapi import Request

TRANSLATIONS = {
    "en": {
        # Nav
        "nav_dashboard": "Dashboard",
        "nav_admin": "Admin",
        "nav_logout": "Logout",
        "nav_back": "Back",
        "nav_login": "Login",
        "nav_signup": "Sign Up",
        
        # Landing
        "land_hero_title": "Generate Art with AI",
        "land_hero_desc": "Create stunning images and videos in seconds using our advanced ArtLine API. Simple credit-based pricing, no subscription required.",
        "land_cta_dash": "Go to Dashboard",
        "land_cta_start": "Get Started",
        "land_cta_login": "Log In",
        "land_pricing_title": "Pricing",
        
        "price_starter": "Starter",
        "price_pro": "Pro",
        "price_ent": "Enterprise",
        "price_img": "Images",
        "price_vid": "Videos",
        "price_credits": "Credits",
        "price_std_speed": "Standard Speed",
        "price_prio_supp": "Priority Support",
        "price_bulk": "Bulk Generation",
        "price_api": "API Access",
        "price_247": "24/7 Support",

        # Auth
        "auth_login_title": "Login",
        "auth_signup_title": "Sign Up",
        "auth_email": "Email address",
        "auth_pass": "Password",
        "auth_btn_signin": "Sign In",
        "auth_btn_create": "Create Account",
        "auth_link_need_acc": "Need an account? Sign up",
        "auth_link_have_acc": "Already have an account? Login",
        "auth_err_creds": "Invalid credentials",
        "auth_err_email_taken": "Email already registered",

        # Dashboard / Sidebar
        "balance_title": "Balance",
        "balance_desc": "Credits (CR) used for image & video generation",
        "buy_credits": "Buy 100 Credits (1000 ₽)",
        "payment_integ": "(Payment integration required)",
        "create_job": "Create Job",
        "format_label": "Format",
        "model_label": "AI Model",
        "prompt_label": "Prompt",
        "prompt_placeholder": "A cinematic drone shot of a futuristic neon city...",
        "generate_btn": "Generate",
        "fmt_image": "Image",
        "fmt_video": "Video",
        
        # Dashboard / Gallery
        "gallery_title": "Your Gallery",
        "no_jobs_title": "No jobs found",
        "no_jobs_desc": "Start by creating your first masterpiece!",
        
        # Job Status / Modal
        "status_queued": "Queued",
        "status_running": "Running",
        "status_succeeded": "Succeeded",
        "status_failed": "Failed",
        "modal_details": "Job Details",
        "modal_id": "ID",
        "modal_date": "Date",
        "modal_status": "Status",
        "modal_cost": "Cost",
        "modal_prompt": "Prompt",
        "modal_download": "Download Original",

        # Admin Common
        "adm_dash_title": "Admin Dashboard",
        "adm_back_dash": "Back to Dashboard", # Means back to USER dashboard or main? "Back to Dashboard" usually means Main Admin Dash
        "adm_stat_users": "Total Users",
        "adm_stat_jobs": "Total Jobs",
        "adm_stat_active": "Active Jobs",
        "adm_stat_credits": "Total Credits",
        
        # Admin Providers
        "adm_prov_title": "AI Providers",
        "adm_btn_manage": "Manage Providers",
        "adm_prov_desc": "Configure API keys for OpenAI, Stability, Runway, and more.",
        "adm_btn_seed": "Seed Demo Data",
        "adm_btn_add": "Add New Provider",
        "adm_th_provider": "Provider",
        "adm_th_name": "Name",
        "adm_th_key": "Key (Last 4)",
        "adm_th_status": "Status",
        "adm_th_actions": "Actions",
        "adm_lbl_name_alias": "Name / Alias",
        "adm_lbl_apikey": "API Key",
        "adm_btn_test": "Test Connection",
        "adm_btn_save": "Save Config",

        # Admin Users
        "adm_users_title": "User Management",
        "adm_recent_users": "Recent Users",
        "adm_manage_desc": "Manage user credits and permissions in the Users tab.",
        "adm_btn_view_all": "View All",
        "adm_th_role": "Role",
        "adm_th_joined": "Date Joined",
        "adm_btn_credits": "+ Credits",
        "adm_mod_add_credits": "Add Credits",
    },
    "ru": {
        "nav_dashboard": "Дашборд",
        "nav_admin": "Админка",
        "nav_logout": "Выйти",
        "nav_back": "Назад",
        "nav_login": "Вход",
        "nav_signup": "Регистрация",
        
        "land_hero_title": "Генерируйте Арт с ИИ",
        "land_hero_desc": "Создавайте потрясающие изображения и видео за секунды с ArtLine API. Простая система кредитов, без подписок.",
        "land_cta_dash": "Перейти в Дашборд",
        "land_cta_start": "Начать",
        "land_cta_login": "Войти",
        "land_pricing_title": "Цены",
        
        "price_starter": "Стартовый",
        "price_pro": "Про",
        "price_ent": "Бизнес",
        "price_img": "Изображений",
        "price_vid": "Видео",
        "price_credits": "Кредитов",
        "price_std_speed": "Стандартная скорость",
        "price_prio_supp": "Приоритетная поддержка",
        "price_bulk": "Массовая генерация",
        "price_api": "Доступ к API",
        "price_247": "Поддержка 24/7",

        "auth_login_title": "Вход",
        "auth_signup_title": "Регистрация",
        "auth_email": "Email адрес",
        "auth_pass": "Пароль",
        "auth_btn_signin": "Войти",
        "auth_btn_create": "Создать аккаунт",
        "auth_link_need_acc": "Нет аккаунта? Зарегистрироваться",
        "auth_link_have_acc": "Есть аккаунт? Войти",
        "auth_err_creds": "Неверные данные",
        "auth_err_email_taken": "Email уже занят",

        "balance_title": "Баланс",
        "balance_desc": "Кредиты (CR) используются для генерации",
        "buy_credits": "Купить 100 CR (1000 ₽)",
        "payment_integ": "(Нужна интеграция оплаты)",
        "create_job": "Создать",
        "format_label": "Формат",
        "model_label": "AI Модель",
        "prompt_label": "Промпт",
        "prompt_placeholder": "Кинематографичный кадр футуристичного города...",
        "generate_btn": "Создать",
        "fmt_image": "Изображение",
        "fmt_video": "Видео",
        
        "gallery_title": "Галерея",
        "no_jobs_title": "Нет работ",
        "no_jobs_desc": "Создайте свой первый шедевр!",
        
        "status_queued": "В очереди",
        "status_running": "В процессе",
        "status_succeeded": "Готово",
        "status_failed": "Ошибка",
        "modal_details": "Детали работы",
        "modal_id": "ID",
        "modal_date": "Дата",
        "modal_status": "Статус",
        "modal_cost": "Цена",
        "modal_prompt": "Промпт",
        "modal_download": "Скачать оригинал",

        "adm_dash_title": "Админ-панель",
        "adm_back_dash": "Назад в Дашборд",
        "adm_stat_users": "Всего пользователей",
        "adm_stat_jobs": "Всего задач",
        "adm_stat_active": "Активные задачи",
        "adm_stat_credits": "Всего кредитов",
        
        "adm_prov_title": "AI Провайдеры",
        "adm_btn_manage": "Управление",
        "adm_prov_desc": "Настройка ключей API для OpenAI, Stability и др.",
        "adm_btn_seed": "Заполнить Демо",
        "adm_btn_add": "Добавить провайдера",
        "adm_th_provider": "Провайдер",
        "adm_th_name": "Название",
        "adm_th_key": "Ключ (Посл. 4)",
        "adm_th_status": "Статус",
        "adm_th_actions": "Действия",
        "adm_lbl_name_alias": "Название / Алиас",
        "adm_lbl_apikey": "API Ключ",
        "adm_btn_test": "Тест соединения",
        "adm_btn_save": "Сохранить",

        "adm_users_title": "Управление пользователями",
        "adm_recent_users": "Новые пользователи",
        "adm_manage_desc": "Управление кредитами и правами.",
        "adm_btn_view_all": "Все пользователи",
        "adm_th_role": "Роль",
        "adm_th_joined": "Дата регистрации",
        "adm_btn_credits": "+ Кредиты",
        "adm_mod_add_credits": "Добавить кредиты",
    },
    "kk": {
        "nav_dashboard": "Басқару панелі",
        "nav_admin": "Әкімші",
        "nav_logout": "Шығу",
        "nav_back": "Артқа",
        "nav_login": "Кіру",
        "nav_signup": "Тіркелу",
        
        "land_hero_title": "ИИ көмегімен өнер жасаңыз",
        "land_hero_desc": "ArtLine API арқылы керемет суреттер мен бейнелерді секундтарда жасаңыз. Қарапайым кредит жүйесі.",
        "land_cta_dash": "Панельге өту",
        "land_cta_start": "Бастау",
        "land_cta_login": "Кіру",
        "land_pricing_title": "Бағалар",
        
        "price_starter": "Бастауыш",
        "price_pro": "Про",
        "price_ent": "Бизнес",
        "price_img": "Сурет",
        "price_vid": "Видео",
        "price_credits": "Кредит",
        "price_std_speed": "Стандартты жылдамдық",
        "price_prio_supp": "Басымды қолдау",
        "price_bulk": "Жаппай генерация",
        "price_api": "API қолжетімділігі",
        "price_247": "24/7 Қолдау",

        "auth_login_title": "Кіру",
        "auth_signup_title": "Тіркелу",
        "auth_email": "Email мекенжайы",
        "auth_pass": "Құпия сөз",
        "auth_btn_signin": "Кіру",
        "auth_btn_create": "Аккаунт құру",
        "auth_link_need_acc": "Аккаунт керек пе? Тіркеліңіз",
        "auth_link_have_acc": "Аккаунт бар ма? Кіріңіз",
        "auth_err_creds": "Қате деректер",
        "auth_err_email_taken": "Email тіркелген",

        "balance_title": "Баланс",
        "balance_desc": "Генерация үшін кредиттер (CR) қолданылады",
        "buy_credits": "100 CR сатып алу (1000 ₽)",
        "payment_integ": "(Төлем жүйесі қосылмаған)",
        "create_job": "Жаңа жұмыс",
        "format_label": "Формат",
        "model_label": "AI Моделі",
        "prompt_label": "Промпт",
        "prompt_placeholder": "Болашақ қаланың кинематографиялық көрінісі...",
        "generate_btn": "Генерациялау",
        "fmt_image": "Сурет",
        "fmt_video": "Видео",
        
        "gallery_title": "Галерея",
        "no_jobs_title": "Жұмыстар жоқ",
        "no_jobs_desc": "Алғашқы туындыңызды жасаңыз!",
        
        "status_queued": "Кезекте",
        "status_running": "Орындалуда",
        "status_succeeded": "Дайын",
        "status_failed": "Қате",
        "modal_details": "Жұмыс мәліметтері",
        "modal_id": "ID",
        "modal_date": "Күні",
        "modal_status": "Күйі",
        "modal_cost": "Құны",
        "modal_prompt": "Промпт",
        "modal_download": "Түпнұсқаны жүктеу",

        "adm_dash_title": "Әкімші тақтасы",
        "adm_back_dash": "Панельге қайту",
        "adm_stat_users": "Барлық қолданушылар",
        "adm_stat_jobs": "Барлық жұмыстар",
        "adm_stat_active": "Белсенді",
        "adm_stat_credits": "Барлық кредиттер",
        
        "adm_prov_title": "AI Провайдерлері",
        "adm_btn_manage": "Басқару",
        "adm_prov_desc": "OpenAI, Stability кілттерін баптау.",
        "adm_btn_seed": "Демо деректер",
        "adm_btn_add": "Провайдер қосу",
        "adm_th_provider": "Провайдер",
        "adm_th_name": "Атауы",
        "adm_th_key": "Кілт (Соңғы 4)",
        "adm_th_status": "Күйі",
        "adm_th_actions": "Әрекеттер",
        "adm_lbl_name_alias": "Атау / Лақап",
        "adm_lbl_apikey": "API Кілт",
        "adm_btn_test": "Тексеру",
        "adm_btn_save": "Сақтау",

        "adm_users_title": "Қолданушыларды басқару",
        "adm_recent_users": "Соңғылар",
        "adm_manage_desc": "Кредиттер мен құқықтарды басқару.",
        "adm_btn_view_all": "Барлығын көру",
        "adm_th_role": "Рөлі",
        "adm_th_joined": "Тіркелген күні",
        "adm_btn_credits": "+ Кредит",
        "adm_mod_add_credits": "Кредит қосу",
    },
    "ky": {
        "nav_dashboard": "Башкаруу панели",
        "nav_admin": "Админ",
        "nav_logout": "Чыгуу",
        "nav_back": "Артка",
        "nav_login": "Кирүү",
        "nav_signup": "Катталуу",
        
        "land_hero_title": "ИИ менен искусство жаратыңыз",
        "land_hero_desc": "ArtLine API аркылуу укмуштуудай сүрөттөрдү жана видеолорду секунддарда жаратыңыз. Жөнөкөй кредит системасы.",
        "land_cta_dash": "Панелге өтүү",
        "land_cta_start": "Баштоо",
        "land_cta_login": "Кирүү",
        "land_pricing_title": "Баалар",
        
        "price_starter": "Башталгыч",
        "price_pro": "Про",
        "price_ent": "Бизнес",
        "price_img": "Сүрөт",
        "price_vid": "Видео",
        "price_credits": "Кредит",
        "price_std_speed": "Стандарт ылдамдык",
        "price_prio_supp": "Приоритеттүү колдоо",
        "price_bulk": "Жапырт генерация",
        "price_api": "API жеткиликтүү",
        "price_247": "24/7 Колдоо",

        "auth_login_title": "Кирүү",
        "auth_signup_title": "Катталуу",
        "auth_email": "Email дарек",
        "auth_pass": "Сыр сөз",
        "auth_btn_signin": "Кирүү",
        "auth_btn_create": "Аккаунт түзүү",
        "auth_link_need_acc": "Аккаунт керекпи? Катталыңыз",
        "auth_link_have_acc": "Аккаунт барбы? Кириңиз",
        "auth_err_creds": "Туура эмес маалымат",
        "auth_err_email_taken": "Email катталган",

        "balance_title": "Баланс",
        "balance_desc": "Генерация үчүн кредиттер (CR) колдонулат",
        "buy_credits": "100 CR сатып алуу (1000 ₽)",
        "payment_integ": "(Төлөм системасы кошула элек)",
        "create_job": "Жаңы жумуш",
        "format_label": "Формат",
        "model_label": "AI Модели",
        "prompt_label": "Промпт",
        "prompt_placeholder": "Келечектеги шаардын кинематографиялык көрүнүшү...",
        "generate_btn": "Жаратуу",
        "fmt_image": "Сүрөт",
        "fmt_video": "Видео",
        
        "gallery_title": "Галерея",
        "no_jobs_title": "Жумуштар жок",
        "no_jobs_desc": "Алгачкы шедевриңизди жаратыңыз!",
        
        "status_queued": "Кезекте",
        "status_running": "Аткарылууда",
        "status_succeeded": "Даяр",
        "status_failed": "Ката",
        "modal_details": "Жумуш чоо-жайы",
        "modal_id": "ID",
        "modal_date": "Күнү",
        "modal_status": "Абалы",
        "modal_cost": "Баасы",
        "modal_prompt": "Промпт",
        "modal_download": "Түпнусканы жүктөө",

        "adm_dash_title": "Админ панели",
        "adm_back_dash": "Панелге кайтуу",
        "adm_stat_users": "Бардык колдонуучулар",
        "adm_stat_jobs": "Бардык жумуштар",
        "adm_stat_active": "Активдүү",
        "adm_stat_credits": "Бардык кредиттер",
        
        "adm_prov_title": "AI Провайдерлери",
        "adm_btn_manage": "Башкаруу",
        "adm_prov_desc": "OpenAI, Stability баскычтарын жөндөө.",
        "adm_btn_seed": "Демо маалыматтар",
        "adm_btn_add": "Провайдер кошуу",
        "adm_th_provider": "Провайдер",
        "adm_th_name": "Аты",
        "adm_th_key": "Ачкыч (Акыркы 4)",
        "adm_th_status": "Абалы",
        "adm_th_actions": "Аракеттер",
        "adm_lbl_name_alias": "Аты / Лакап",
        "adm_lbl_apikey": "API Ачкыч",
        "adm_btn_test": "Текшерүү",
        "adm_btn_save": "Сактоо",

        "adm_users_title": "Колдонуучуларды башкаруу",
        "adm_recent_users": "Жаңылар",
        "adm_manage_desc": "Кредиттер жана укуктарды башкаруу.",
        "adm_btn_view_all": "Баарын көрүү",
        "adm_th_role": "Ролу",
        "adm_th_joined": "Катталган күнү",
        "adm_btn_credits": "+ Кредит",
        "adm_mod_add_credits": "Кредит кошуу",
    }
}

SUPPORTED_LANGUAGES = ["en", "ru", "kk", "ky"]

def get_t(request: Request) -> dict:
    """Get translation dictionary for the current language."""
    lang = request.cookies.get("artline_lang", "ru")
    if lang not in TRANSLATIONS:
        lang = "ru"
    return TRANSLATIONS[lang]

def get_current_lang(request: Request) -> str:
    """Get current language code."""
    lang = request.cookies.get("artline_lang", "ru")
    if lang not in SUPPORTED_LANGUAGES:
        lang = "ru"
    return lang
